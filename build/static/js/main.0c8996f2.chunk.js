(this["webpackJsonpreact-firebase"]=this["webpackJsonpreact-firebase"]||[]).push([[0],{44:function(t,e,a){},45:function(t,e,a){},46:function(t,e,a){},68:function(t,e,a){},72:function(t,e,a){},74:function(t,e,a){},75:function(t,e,a){"use strict";a.r(e);var s=a(1),n=a.n(s),c=a(35),i=a.n(c),r=(a(44),a(45),a(15)),o=a(3),l=a(8),d=a(9),u=a(11),j=a(10),h=a(18),b=(a(46),a(83)),O=a(0),m=Object(b.a)((function(t){return{searchControl:{position:"relative !important",width:"auto !important",borderRadius:"8px !important",left:"50% !important",background:"lightblue !important"}}})),p=function(){var t=m(),e=Object(s.useState)(""),a=Object(h.a)(e,2),n=a[0],c=a[1];return Object(O.jsx)("input",{className:t.searchControl,id:"input-search-header",value:n,onChange:function(t){return c(t.target.value)},placeholder:"Search",type:"Search","aria-describedby":"search-helper-text"})},v=a(36),k=a(13),S=a.n(k),_=(a(68),function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={tasks:[]},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=this;S.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_URL+"tasks/").then((function(e){t.setState({tasks:e.data})})).catch((function(t){console.log(t)}))}},{key:"validateStatus",value:function(){var t=this.state.tasks,e=t.length,a=t.filter((function(t){return"closed"===t.status})).length;return[a,e-a,e]}},{key:"latestTasks",value:function(){var t=this.state.tasks.slice().sort((function(t,e){var a=new Date(t.modified_timestamp);return new Date(e.modified_timestamp)-a})).slice(0,3).map((function(t){return{task_name:t.task_name}})),e=[];return t.map((function(t){return e.push(t.task_name)})),e}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"row flex-container",children:[Object(O.jsx)("div",{className:"col m4",children:Object(O.jsx)("div",{className:"card cardst task-summary",children:Object(O.jsxs)("div",{className:"card-content grey-text text-darken-3",children:[Object(O.jsx)("span",{className:"card-title black-text big text-darken-4",children:"Tasks Completed"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"blue-text bigger",children:this.validateStatus()[0]}),Object(O.jsxs)("span",{className:"black-text ",children:["/",this.validateStatus()[2]]})]})]})})}),Object(O.jsx)("div",{className:"col m4",children:Object(O.jsx)("div",{className:"card cardst task-summary",children:Object(O.jsxs)("div",{className:"card-content  grey-text text-darken-3",children:[Object(O.jsx)("span",{className:"card-title black-text big text-darken-4",children:"Latest Created Tasks"}),this.latestTasks().map((function(t,e){return Object(O.jsx)("li",{children:t},e)}))]})})}),Object(O.jsx)("div",{className:"col m4",children:Object(O.jsx)("div",{className:"card cardst task-summary",children:Object(O.jsx)(v.a,{className:"",style:{padding:"5px"},chartType:"PieChart",loader:Object(O.jsx)("div",{children:"Loading Chart"}),data:[["Activity","Count"],["Pending",this.validateStatus()[1]],["Completed",this.validateStatus()[0]]],options:{legend:"label",pieSliceText:"none",pieStartAngle:100,height:"135"},rootProps:{"data-testid":"4"}})})})]})}}]),a}(s.Component)),x=a(12),f=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={task_name:s.props.dataFromParent.task_name,status:s.props.dataFromParent.status,tasks:[]},s.onChangeTaskStatus=s.onChangeTaskStatus.bind(Object(x.a)(s)),s}return Object(d.a)(a,[{key:"onChangeTaskStatus",value:function(){console.log(this.state.status),this.setState({status:"open"===this.state.status?"closed":"open"},(function(){console.log("new",this.state.status);var t={task_name:this.state.task_name,status:this.state.status};S.a.post(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_URL+"tasks/update/"+this.props.dataFromParent._id,t).then((function(t){return console.log(t.data)})),"/"===this.props.location.pathname&&window.location.reload()}))}},{key:"render",value:function(){return Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"checkbox",checked:"closed"===this.state.status,onChange:this.onChangeTaskStatus}),Object(O.jsx)("span",{children:this.props.dataFromParent.task_name})]})}}]),a}(s.Component),T=Object(o.f)(f),E=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).Task=function(t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)(T,{dataFromParent:t.task})}),Object(O.jsxs)("td",{children:[Object(O.jsx)(r.b,{to:"/edit/"+t.task._id,children:"edit"})," |",Object(O.jsx)("a",{href:"/",onClick:function(){t.deleteTask(t.task._id)},children:" delete "})]})]})},s.deleteTask=s.deleteTask.bind(Object(x.a)(s)),s.state={tasks:[]},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=this;S.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_URL+"tasks/").then((function(e){t.setState({tasks:e.data})})).catch((function(t){console.log(t)}))}},{key:"deleteTask",value:function(t){S.a.delete(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_URL+t).then((function(t){console.log(t.data)})),this.setState({task:this.state.tasks.filter((function(e){return e._id!==t}))})}},{key:"taskList",value:function(){var t=this;return this.state.tasks.map((function(e){return Object(O.jsx)(t.Task,{task:e,deleteTask:t.deleteTask},e._id)}))}},{key:"render",value:function(){return Object(O.jsx)("div",{children:Object(O.jsxs)("table",{className:"table table-striped",style:{marginTop:20},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Name"}),Object(O.jsx)("th",{children:"Actions"})]})}),Object(O.jsx)("tbody",{children:this.taskList()})]})})}}]),a}(s.Component),g=(a(72),function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var t=this.props.tasks;return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(_,{}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col s2 m5",children:Object(O.jsx)("h4",{children:"Tasks"})}),Object(O.jsx)("div",{className:"col s2 m4",children:Object(O.jsx)(p,{})}),Object(O.jsx)("div",{className:"col s2 m3",children:Object(O.jsx)(r.c,{to:"/create",className:"btn btn-primary",children:"New Task"})})]}),Object(O.jsx)("div",{className:"card cardst",children:Object(O.jsx)("div",{className:"col s12 m6",children:Object(O.jsx)(E,{tasks:t})})})]})}}]),a}(s.Component)),C=a(19),N=a.n(C),R=a(24);a(74);function y(t){return P.apply(this,arguments)}function P(){return(P=Object(R.a)(N.a.mark((function t(e){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_URL+"login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(t){var e=t.setToken,a=Object(s.useState)(),n=Object(h.a)(a,2),c=n[0],i=n[1],r=Object(s.useState)(),o=Object(h.a)(r,2),l=o[0],d=o[1],u=function(){var t=Object(R.a)(N.a.mark((function t(a){var s;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,y({username:c,password:l});case 3:s=t.sent,e(s);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"login-wrapper",children:[Object(O.jsx)("h1",{children:"Please Log In"}),Object(O.jsxs)("form",{onSubmit:u,children:[Object(O.jsxs)("label",{children:[Object(O.jsx)("p",{children:"Username"}),Object(O.jsx)("input",{type:"text",onChange:function(t){return i(t.target.value)}})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("p",{children:"Password"}),Object(O.jsx)("input",{type:"password",onChange:function(t){return d(t.target.value)}})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{type:"submit",children:"Submit"})})]})]})}var A=function(){return Object(O.jsx)(r.c,{to:"/signin",children:"Log Out"})},L=function(){return Object(O.jsxs)("ul",{children:[Object(O.jsx)("div",{className:"left",children:Object(O.jsx)("li",{children:Object(O.jsx)(r.c,{to:"/",className:"btn btn-floating pink lighten-1",children:"VK"})})}),Object(O.jsx)("div",{className:"right",children:Object(O.jsx)("li",{children:Object(O.jsx)(A,{})})})]})},U=function(){return Object(O.jsx)("nav",{className:"nav-wrapper grey darken-3",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsx)(L,{})})})},K=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).onChangeTaskName=s.onChangeTaskName.bind(Object(x.a)(s)),s.onSubmit=s.onSubmit.bind(Object(x.a)(s)),s.state={task_name:""},s}return Object(d.a)(a,[{key:"onChangeTaskName",value:function(t){this.setState({task_name:t.target.value})}},{key:"onSubmit",value:function(t){t.preventDefault();var e={task_name:this.state.task_name};S.a.post(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_URL+"tasks/add",e).then((function(t){return console.log(t.data)})),this.setState({task_name:""}),this.props.history.push("/")}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h4",{children:"New Task"}),Object(O.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:"Task Name "}),Object(O.jsx)("input",{type:"text",className:"form-control",value:this.state.task_name,onChange:this.onChangeTaskName})]}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{type:"submit",value:"Create task",className:"btn btn-primary"})})]})]})}}]),a}(s.Component),H=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).onChangeTaskName=s.onChangeTaskName.bind(Object(x.a)(s)),s.onSubmit=s.onSubmit.bind(Object(x.a)(s)),s.state={status:"",task_name:"",tasks:[]},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=this;console.log(this.props),S.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_URL+"tasks/"+this.props.match.params.id).then((function(e){t.setState({task_name:e.data.task_name,status:e.data.status})})).catch((function(t){console.log(t)}))}},{key:"onChangeTaskName",value:function(t){this.setState({task_name:t.target.value})}},{key:"onSubmit",value:function(t){t.preventDefault();var e={task_name:this.state.task_name,status:this.state.status};console.log(e),S.a.post(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_URL+"tasks/update/"+this.props.match.params.id,e).then((function(t){return console.log(t.data)})),this.props.history.push("/")}},{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{align:"center",children:"Update Task"}),Object(O.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:"Task Name: "}),Object(O.jsx)("input",{type:"text",className:"form-control",value:this.state.task_name,onChange:this.onChangeTaskName})]}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{type:"submit",value:"Update Task",className:"btn btn-primary"})})]})]})}}]),a}(s.Component),W=Object(o.f)(H);var w=function(){var t=function(){var t=Object(s.useState)(function(){var t=localStorage.getItem("token"),e=JSON.parse(t);return null===e||void 0===e?void 0:e.token}()),e=Object(h.a)(t,2),a=e[0],n=e[1];return{setToken:function(t){localStorage.setItem("token",JSON.stringify(t)),n(t.token)},token:a}}(),e=t.token,a=t.setToken;return e?Object(O.jsx)(r.a,{children:Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(U,{}),Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{exact:!0,path:"/",component:g}),Object(O.jsx)(o.a,{path:"/signIn",component:D}),Object(O.jsx)(o.a,{path:"/create",component:K}),Object(O.jsx)(o.a,{path:"/edit/:id",component:W})]})]})}):Object(O.jsx)(D,{setToken:a})};i.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.0c8996f2.chunk.js.map